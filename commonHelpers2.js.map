{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-timer.js"],"sourcesContent":["\"use strict\";\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst elements = {\n    selector: document.querySelector(\"#datetime-picker\"),\n    startButton: document.querySelector(\"[data-start]\"),\n    days: document.querySelector(\"[data-days]\"),\n    hours: document.querySelector(\"[data-hours]\"),\n    minutes: document.querySelector(\"[data-minutes]\"),\n    seconds: document.querySelector(\"[data-seconds]\")\n}\nlet today;\nlet userData;\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n       today = new Date();\n       userData = selectedDates[0];\n       if (today > userData){\n            iziToast.warning({\n                message: 'Please choose a date in the future',\n                position: 'topRight'\n            });\n       } else {\n        elements.startButton.disabled = false;\n       }\n    },\n};\n\nflatpickr(elements.selector, options);\nelements.startButton.disabled = true;\nelements.startButton.addEventListener('click', backClock);\n\n\nfunction backClock(){\n    let gotData;\n    userData = new Date(userData - today);\n    //disabled changing of data\n    elements.startButton.disabled = true;\n    elements.selector.disabled = true;\n    //1 sec clock timer logic\n    const intervalId = setInterval(function () {\n        if (userData > 999) {\n            userData -= 1000;\n            gotData = convertMs(userData);\n            elements.days.textContent = (gotData.days < 10 ? \"0\" + gotData.days : gotData.days) || 0;\n            elements.hours.textContent = (gotData.hours < 10 ? \"0\" + gotData.hours : gotData.hours) || 0;\n            elements.minutes.textContent = (gotData.minutes < 10 ? \"0\" + gotData.minutes : gotData.minutes) || 0;\n            elements.seconds.textContent = (gotData.seconds < 10 ? \"0\" + gotData.seconds : gotData.seconds) || 0;\n        } else {\n            clearInterval(intervalId);\n            elements.selector.disabled = false;\n        }\n    }, 1000);\n}\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n    \n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n    \n    return {days, hours, minutes, seconds };\n}"],"names":["elements","today","userData","options","selectedDates","iziToast","flatpickr","backClock","gotData","intervalId","convertMs","ms","days","hours","minutes","seconds"],"mappings":"0IAMA,MAAMA,EAAW,CACb,SAAU,SAAS,cAAc,kBAAkB,EACnD,YAAa,SAAS,cAAc,cAAc,EAClD,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,CACpD,EACA,IAAIC,EACAC,EACJ,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACpBH,EAAQ,IAAI,KACZC,EAAWE,EAAc,GACrBH,EAAQC,EACPG,EAAS,QAAQ,CACb,QAAS,qCACT,SAAU,UAC1B,CAAa,EAELL,EAAS,YAAY,SAAW,EAEnC,CACL,EAEAM,EAAUN,EAAS,SAAUG,CAAO,EACpCH,EAAS,YAAY,SAAW,GAChCA,EAAS,YAAY,iBAAiB,QAASO,CAAS,EAGxD,SAASA,GAAW,CAChB,IAAIC,EACJN,EAAW,IAAI,KAAKA,EAAWD,CAAK,EAEpCD,EAAS,YAAY,SAAW,GAChCA,EAAS,SAAS,SAAW,GAE7B,MAAMS,EAAa,YAAY,UAAY,CACnCP,EAAW,KACXA,GAAY,IACZM,EAAUE,EAAUR,CAAQ,EAC5BF,EAAS,KAAK,aAAeQ,EAAQ,KAAO,GAAK,IAAMA,EAAQ,KAAOA,EAAQ,OAAS,EACvFR,EAAS,MAAM,aAAeQ,EAAQ,MAAQ,GAAK,IAAMA,EAAQ,MAAQA,EAAQ,QAAU,EAC3FR,EAAS,QAAQ,aAAeQ,EAAQ,QAAU,GAAK,IAAMA,EAAQ,QAAUA,EAAQ,UAAY,EACnGR,EAAS,QAAQ,aAAeQ,EAAQ,QAAU,GAAK,IAAMA,EAAQ,QAAUA,EAAQ,UAAY,IAEnG,cAAcC,CAAU,EACxBT,EAAS,SAAS,SAAW,GAEpC,EAAE,GAAI,CACX,CAEA,SAASU,EAAUC,EAAI,CAQnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAC,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACzC"}