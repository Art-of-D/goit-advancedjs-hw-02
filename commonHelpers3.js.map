{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["\"use strict\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst elements = {\n  firstDelay: document.querySelector('input[name=delay]'),\n  delayStep: document.querySelector('input[name=step]'),\n  promiseAmount: document.querySelector('input[name=amount]'),\n  promiseButton: document.querySelector('button'),\n}\n\nelements.promiseButton.addEventListener('click', promiseHandler);\n\nfunction promiseHandler(event){\n  event.preventDefault();\n  const startDelay = +elements.firstDelay.value;\n  const nextStepDelay = +elements.delayStep.value;\n  const amountOfPromise = elements.promiseAmount.value;\n\n  for(let i = 0; i < amountOfPromise; i++) {\n    createPromise(i + 1, startDelay + (nextStepDelay * i))\n      .then((value) => onSuccesShow(value))\n      .catch((reason) => onErrorShow(reason));\n  }\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n      const shouldResolve = Math.random() > 0.3;\n      setTimeout(() => {\n        if (shouldResolve) {\n          resolve({position, delay});\n        } else {\n          reject({position, delay});\n      }}, delay)});\n}\n\nfunction onSuccesShow({position, delay}){\n  iziToast.success({\n    message: `Fulfilled promise ${position} in ${delay}ms`,\n    position: 'topRight',\n  });\n}\n\nfunction onErrorShow({position, delay}){\n  iziToast.error({\n    message: `Rejected promise ${position} in ${delay}ms`,\n    position: 'topRight',\n  });\n}"],"names":["elements","promiseHandler","event","startDelay","nextStepDelay","amountOfPromise","i","createPromise","value","onSuccesShow","reason","onErrorShow","position","delay","resolve","reject","shouldResolve","iziToast"],"mappings":"wIAIA,MAAMA,EAAW,CACf,WAAY,SAAS,cAAc,mBAAmB,EACtD,UAAW,SAAS,cAAc,kBAAkB,EACpD,cAAe,SAAS,cAAc,oBAAoB,EAC1D,cAAe,SAAS,cAAc,QAAQ,CAChD,EAEAA,EAAS,cAAc,iBAAiB,QAASC,CAAc,EAE/D,SAASA,EAAeC,EAAM,CAC5BA,EAAM,eAAc,EACpB,MAAMC,EAAa,CAACH,EAAS,WAAW,MAClCI,EAAgB,CAACJ,EAAS,UAAU,MACpCK,EAAkBL,EAAS,cAAc,MAE/C,QAAQM,EAAI,EAAGA,EAAID,EAAiBC,IAClCC,EAAcD,EAAI,EAAGH,EAAcC,EAAgBE,CAAE,EAClD,KAAME,GAAUC,EAAaD,CAAK,CAAC,EACnC,MAAOE,GAAWC,EAAYD,CAAM,CAAC,CAE5C,CAEA,SAASH,EAAcK,EAAUC,EAAO,CACtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACpC,MAAMC,EAAgB,KAAK,OAAM,EAAK,GACtC,WAAW,IAAM,CACXA,EACFF,EAAQ,CAAC,SAAAF,EAAU,MAAAC,CAAK,CAAC,EAEzBE,EAAO,CAAC,SAAAH,EAAU,MAAAC,CAAK,CAAC,CAC3B,EAAGA,CAAK,CAAC,CAAC,CACjB,CAEA,SAASJ,EAAa,CAAC,SAAAG,EAAU,MAAAC,CAAK,EAAE,CACtCI,EAAS,QAAQ,CACf,QAAS,qBAAqBL,QAAeC,MAC7C,SAAU,UACd,CAAG,CACH,CAEA,SAASF,EAAY,CAAC,SAAAC,EAAU,MAAAC,CAAK,EAAE,CACrCI,EAAS,MAAM,CACb,QAAS,oBAAoBL,QAAeC,MAC5C,SAAU,UACd,CAAG,CACH"}